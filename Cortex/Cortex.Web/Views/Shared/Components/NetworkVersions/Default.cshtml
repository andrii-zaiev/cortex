@using Cortex.Auth
@using Cortex.Web.Models.NetworkVersions
@model NetworkVersionsListModel

@if (Model.Versions.Count == 0)
{
    <span class="empty-text">No versions yet</span>
}
else
{
    <div>
        @foreach (NetworkVersionModel version in Model.Versions)
        {
            <div class="list-item-container">
                <div class="list-item-row-heading">
                    <small>
                        <a asp-controller="NetworkVersions"
                           asp-action="GetVersion"
                           asp-route-networkId="@version.NetworkId"
                           asp-route-versionId="@version.Id">
                            @Html.DisplayForUser(version.Author, User.GetNullableId())
                            <time datetime="@version.Date.ToString("o")" data-local></time>
                        </a>
                    </small>
                    
                    @if (false && Model.CanEdit)
                    {
                        <a title="Revert"
                           class="button-primary button-icon"
                           asp-controller="Networks"
                           asp-action="EditNetwork">
                            <i class="fa fa-undo"></i>
                        </a>

                        <a title="Reset to"
                           class="button-primary button-icon"
                           asp-controller="Networks"
                           asp-action="EditNetwork">
                            <i class="fa fa-arrow-left"></i>
                        </a>
                    }
                </div>
                @if (String.IsNullOrEmpty(version.Comment))
                {
                    <p class="empty-text">
                        No comment
                    </p>
                }
                else
                {
                    <p class="truncated-text" title="@version.Comment">@version.Comment</p>
                }
            </div>
        }
    </div>
}